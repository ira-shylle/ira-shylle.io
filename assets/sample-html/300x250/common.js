function loadJSON() { $.getJSON("data.json?rand=" + Math.random()).done(function (o) { console.log("GOT JSON Data: "), doJSON(o) }).fail(function (o, e, a) { var s = e + ", " + a; console.log("Request Failed: " + s) }) } function getQuerystring() { "" != document.location.search && $.each(document.location.search.substr(1).split("&"), function (o, e) { var a = e.split("="); queries[a[0].toString()] = a[1].toString() }) } var qamodeToggle = !1; function separateFrames() { mainTimeline.pause(), proofBanner(), qamodeToggle = !0, console.log("QA mode on"), $("html").css("cursor", 'url("https://www.google.com/intl/en_ALL/mapfiles/openhand.cur"), all-scroll'), $(".frame").addClass("qamode"), $(".banner").addClass("qamode"), $(".previewbg").css("display", "block"), $("#banner-border").addClass("noDisplay"), $("g").each(function () { var o = $(this).attr("mask"); $(this).removeAttr("mask"), $(this).attr("data-mask", o) }), $("body").css("overflow", "visible"); var o = 0; $(".frame").each(function () { if (!$(this).hasClass("common")) { var e = $(".common").clone(); $(e).removeClass("common"), $(e).addClass("previewcom"), $(this).append(e), TweenMax.to($(this), .4, { x: o * (banner.width + 10) + "px", y: "0px" }), o++ } }) } function resetFrames() { qamodeToggle = !1, console.log("QA mode off"), $("html").css("cursor", "auto"); $("div.previewcom").remove(), $(".frame").each(function () { TweenMax.to($(this), .4, { x: "0px", y: "0px" }), 0 }); (new TimelineMax).addPause("+=0.3", function () { $(".previewbg").css("display", "none"), $(".frame").removeClass("qamode"), $(".banner").removeClass("qamode"), $(".frame").removeClass("qamode"), $(".banner").removeClass("qamode"), $("#banner-border").removeClass("noDisplay"), $("g").each(function () { var o = $(this).attr("data-mask"); $(this).removeAttr("mask"), $(this).attr("mask", o) }), $("body").css("overflow", "hidden"), mainTimeline.restart(), startBanner() }) } $.dragScroll = function (o) { var e, a, s = $.extend({ scrollVertical: !0, scrollHorizontal: !0, cursor: null }, o), r = !1, l = function (o, r) { $("html").css("cursor", s.cursor ? s.cursor : s.scrollVertical && s.scrollHorizontal ? 'url("https://www.google.com/intl/en_ALL/mapfiles/closedhand.cur"), all-scroll' : s.scrollVertical ? "row-resize" : s.scrollHorizontal ? "col-resize" : void 0); var l = $(r); s.scrollVertical && l.scrollTop(l.scrollTop() + (e - o.pageY)), s.scrollHorizontal && l.scrollLeft(l.scrollLeft() + (a - o.pageX)) }; $(document).on({ mousemove: function (o) { r && l(o, this) }, mousedown: function (o) { r = !0, e = o.pageY, a = o.pageX }, mouseup: function () { r = !1, qamodeToggle ? $("html").css("cursor", 'url("https://www.google.com/intl/en_ALL/mapfiles/openhand.cur"), all-scroll') : $("html").css("cursor", "auto") } }) }, $.proofKey = function () { $(this).keypress(function (o) { 112 == o.which && (o.preventDefault(), (qamodeToggle = !qamodeToggle) ? separateFrames() : resetFrames()) }) };